import { Button } from '@web-client/ustc-ui/Button/Button';
import { CardHeader } from './CardHeader';
import React from 'react';

export function PetitionInformation({ isAutoGenerated, petitionFormatted }) {
  return (
    <div className="border-top-1px padding-top-2 padding-bottom-2 height-full margin-bottom-0">
      <div className="content-wrapper">
        <CardHeader step={2} title="Petition" />
        {!isAutoGenerated ? (
          <div>
            <Button
              link
              className="padding-0 text-left word-break"
              data-testid="petition-preview-button"
              href={petitionFormatted.petitionFileUrl}
              rel="noopener noreferrer"
              target="_blank"
            >
              {petitionFormatted.petitionFile.name}
            </Button>
          </div>
        ) : (
          <>
            <div className="semi-bold">
              Reason(s) why you disagree with the IRS action(s) in this case
            </div>
            <div>
              <ol className="alpha-list margin-top-05 padding-left-205 margin-bottom-0">
                {petitionFormatted.petitionReasons.map(reason => (
                  <li
                    className="alpha-list-items"
                    data-testid="petition-reason"
                    key={reason.slice(0, 10)}
                  >
                    {reason}
                  </li>
                ))}
              </ol>
            </div>
            <div className="margin-top-3">
              <div className="semi-bold">Fact(s) upon which you rely</div>
              <div>
                <ol className="alpha-list margin-top-05 padding-left-205 margin-bottom-0">
                  {petitionFormatted.petitionFacts.map(fact => (
                    <li
                      className="alpha-list-items"
                      data-testid="petition-fact"
                      key={fact.slice(0, 10)}
                    >
                      {fact}
                    </li>
                  ))}
                </ol>
              </div>
            </div>
          </>
        )}
      </div>
    </div>
  );
}
