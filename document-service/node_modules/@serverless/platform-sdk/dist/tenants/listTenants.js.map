{"version":3,"sources":["../../src/tenants/listTenants.js"],"names":["fetch","require","platformConfig","currentVersion","version","listTenants","data","backendUrl","username","method","headers","Authorization","idToken","response","ok","text","Error","json"],"mappings":";;;;;;;;AAAA,IAAMA,QAAQC,QAAQ,kBAAR,CAAd;AACA,IAAMC,iBAAiBD,QAAQ,WAAR,CAAvB;AACA,IAAME,iBAAiBF,QAAQ,oBAAR,EAA8BG,OAArD;;AAEA,IAAMC;AAAA,qEAAc,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKN,MAAO,GAAEE,eAAeK,UAAW,oBAAmBD,KAAKE,QAAS,EAApE,EAAuE;AAC5FC,sBAAQ,KADoF;AAE5FC,uBAAS;AACP,gCAAgB,kBADT;AAEP,sCAAsBP,cAFf;AAGPQ,+BAAgB,UAASL,KAAKM,OAAQ;AAH/B;AAFmF,aAAvE,CADL;;AAAA;AACZC,oBADY;;AAAA,gBAUbA,SAASC,EAVI;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAWGD,SAASE,IAAT,EAXH;;AAAA;AAWVA,gBAXU;AAAA,kBAYV,IAAIC,KAAJ,CAAUD,IAAV,CAZU;;AAAA;AAAA,6CAeXF,SAASI,IAAT,EAfW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAkBeZ,W","file":"listTenants.js","sourcesContent":["const fetch = require('isomorphic-fetch')\nconst platformConfig = require('../config')\nconst currentVersion = require('../../package.json').version\n\nconst listTenants = async (data) => {\n  const response = await fetch(`${platformConfig.backendUrl}tenants?userName=${data.username}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-platform-version': currentVersion,\n      Authorization: `bearer ${data.idToken}`\n    }\n  })\n\n  if (!response.ok) {\n    const text = await response.text()\n    throw new Error(text)\n  }\n\n  return response.json()\n}\n\nexport default listTenants\n"]}