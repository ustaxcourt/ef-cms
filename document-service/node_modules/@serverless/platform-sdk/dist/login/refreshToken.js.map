{"version":3,"sources":["../../src/login/refreshToken.js"],"names":["fetch","require","platformConfig","currentVersion","version","refreshToken","userRefreshToken","body","JSON","stringify","backendUrl","method","headers","response","ok","text","Error","json","module","exports"],"mappings":";;;;AAAA,IAAMA,QAAQC,QAAQ,kBAAR,CAAd;AACA,IAAMC,iBAAiBD,QAAQ,WAAR,CAAvB;AACA,IAAME,iBAAiBF,QAAQ,oBAAR,EAA8BG,OAArD;;AAEA,IAAMC;AAAA,qEAAe,iBAAOC,gBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,gBADa,GACNC,KAAKC,SAAL,CAAe;AAC1BJ,4BAAcC;AADY,aAAf,CADM;AAAA;AAAA,mBAIIN,MAAO,GAAEE,eAAeQ,UAAW,gBAAnC,EAAoD;AACzEC,sBAAQ,MADiE;AAEzEJ,kBAFyE;AAGzEK,uBAAS;AACP,gCAAgB,kBADT;AAEP,sCAAsBT;AAFf;AAHgE,aAApD,CAJJ;;AAAA;AAIbU,oBAJa;;AAAA,gBAadA,SAASC,EAbK;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAcED,SAASE,IAAT,EAdF;;AAAA;AAcXA,gBAdW;AAAA,kBAeX,IAAIC,KAAJ,CAAUD,IAAV,CAfW;;AAAA;AAAA,6CAiBZF,SAASI,IAAT,EAjBY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAoBAC,OAAOC,OAAP,GAAiBd,YAAjB","file":"refreshToken.js","sourcesContent":["const fetch = require('isomorphic-fetch')\nconst platformConfig = require('../config')\nconst currentVersion = require('../../package.json').version\n\nconst refreshToken = async (userRefreshToken) => {\n  const body = JSON.stringify({\n    refreshToken: userRefreshToken\n  })\n  const response = await fetch(`${platformConfig.backendUrl}tokens/refresh`, {\n    method: 'POST',\n    body,\n    headers: {\n      'Content-Type': 'application/json',\n      'x-platform-version': currentVersion\n    }\n  })\n\n  if (!response.ok) {\n    const text = await response.text()\n    throw new Error(text)\n  }\n  return response.json()\n}\n\nmodule.exports = refreshToken\n"]}