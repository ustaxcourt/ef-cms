{"version":3,"sources":["../../src/accessKeys/createAccessKey.js"],"names":["fetch","require","platformConfig","currentVersion","version","createAccessKey","data","backendUrl","tenant","method","body","JSON","stringify","tenantName","userName","username","title","headers","Authorization","idToken","response","ok","text","Error","json"],"mappings":";;;;;;;;AAAA,IAAMA,QAAQC,QAAQ,kBAAR,CAAd;AACA,IAAMC,iBAAiBD,QAAQ,WAAR,CAAvB;AACA,IAAME,iBAAiBF,QAAQ,oBAAR,EAA8BG,OAArD;;AAEA,IAAMC;AAAA,qEAAkB,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACCN,MAAO,GAAEE,eAAeK,UAAW,WAAUD,KAAKE,MAAO,aAAzD,EAAuE;AAC5FC,sBAAQ,MADoF;AAE5FC,oBAAMC,KAAKC,SAAL,CAAe;AACnBC,4BAAYP,KAAKE,MADE;AAEnBM,0BAAUR,KAAKS,QAFI;AAGnBC,uBAAOV,KAAKU;AAHO,eAAf,CAFsF;AAO5FC,uBAAS;AACP,gCAAgB,kBADT;AAEP,sCAAsBd,cAFf;AAGPe,+BAAgB,UAASZ,KAAKa,OAAQ;AAH/B;AAPmF,aAAvE,CADD;;AAAA;AAChBC,oBADgB;;AAAA,gBAejBA,SAASC,EAfQ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAgBDD,SAASE,IAAT,EAhBC;;AAAA;AAgBdA,gBAhBc;AAAA,kBAiBd,IAAIC,KAAJ,CAAUD,IAAV,CAjBc;;AAAA;AAAA,6CAoBfF,SAASI,IAAT,EApBe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAuBenB,e","file":"createAccessKey.js","sourcesContent":["const fetch = require('isomorphic-fetch')\nconst platformConfig = require('../config')\nconst currentVersion = require('../../package.json').version\n\nconst createAccessKey = async (data) => {\n  const response = await fetch(`${platformConfig.backendUrl}tenants/${data.tenant}/accessKeys`, {\n    method: 'POST',\n    body: JSON.stringify({\n      tenantName: data.tenant,\n      userName: data.username,\n      title: data.title\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      'x-platform-version': currentVersion,\n      Authorization: `bearer ${data.idToken}`\n    }\n  })\n\n  if (!response.ok) {\n    const text = await response.text()\n    throw new Error(text)\n  }\n\n  return response.json()\n}\n\nexport default createAccessKey\n"]}