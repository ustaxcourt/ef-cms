// Generated by CoffeeScript 1.7.1
var is_absolute, is_url, resolve;

is_absolute = function(string) {
  return /^[\w\d+.-]+:/.test(string);
};

is_url = function(string) {
  return /^[\w\d+.-]+:\/\//.test(string);
};

resolve = function(scope, uri) {
  var main, _frag, _ref;
  if (is_absolute(uri)) {
    return uri;
  } else {
    scope = scope.replace(/#$/, "");
    if (uri.indexOf("#") === 0) {
      _ref = scope.split("#"), main = _ref[0], _frag = _ref[1];
      return main + uri;
    } else {
      if (is_url(scope) || scope.indexOf("/") !== -1) {
        return scope.replace(/\/[^/]+$/, "/" + uri);
      } else {
        return "" + scope + "/" + uri;
      }
    }
  }
};

module.exports = {
  is_absolute: is_absolute,
  is_url: is_url,
  resolve: resolve
};
